<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Advanced settings</title>
<link href="style.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../files/helpindex.css" type=
"text/css">

<script type="text/JavaScript" src="../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "files/210_01_advanced.html";
</script>

</head>
<body background="images/back.gif"><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../index.html?page=files%2F210_01_advanced.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../index.html?page=files%2F210_01_advanced.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<h3>Advanced settings</h3>
There were two aspects in the <b>settings</b> tab that we have not
yet discussed. First of all, there is a checkbox labeled
<b>Persistent</b>. Normally, when you leave a room and return to
the same room later, the room is reset to its initial settings.
This is fine if you have a number of levels in your game but it is
normally not what you want in for example an RPG. Here the room
should be the way you left it the last time. Checking the box
labeled <b>Persistent</b> will do exactly that. The room status
will be remembered and when you return to it later, it will be
exactly the same as you left it. Only when you restart the game
will the room be reset. Actually, there is one exception to this.
If you marked certain objects as being persistent, instances of
this object will not stay in the room but move to the next room.

<p>Secondly, there is a button labeled <b>Creation code</b>. Here
you can type in a piece of code in GML (see later) that is executed
when the room is created. This is useful to fill in certain
variables for the room, create certain instances, etc. It is
important to understand what exactly happens when you move to a
particular room in the game.</p>

<ul>
<li>First, in the current room (if any) all instances get a
room-end event. Next the non-persistent instances are removed (no
destroy event is generated!).</li>

<li>Next, for the new room the persistent instances from the
previous room are added.</li>

<li>All new instances are created and their creation events are
executed (if the room is not persistent or has not been visited
before).</li>

<li>When this is the first room, for all instances the game-start
event is generated.</li>

<li>Now the room creation code is executed.</li>

<li>Finally, all instances get a room-start event.</li>
</ul>

<p>So, for example, the room-start events can use variables set by
the creation code for the room and in the creation code you can
refer to the instances (both new ones and persistent ones) in the
room.</p>

<p>There is one further option. In the pop-up menu when you right
click on an instance with the &lt;Ctrl&gt; key you can now indicate
some creation code for the specific instance. This code is executed
when the room is started, just before the creation event of the
instance is executed. This is very useful to e.g. set certain
parameters that are specific to the instance.</p>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
