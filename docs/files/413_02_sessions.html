<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Creating and joining sessions</title>
<link href="style.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../files/helpindex.css" type=
"text/css">

<script type="text/JavaScript" src="../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "files/413_02_sessions.html";
</script>

</head>
<body background="images/back.gif"><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../index.html?page=files%2F413_02_sessions.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../index.html?page=files%2F413_02_sessions.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<h3>Creating and joining sessions</h3>
When you connect to a network, there can be multiple games
happening on the same network. We call these sessions. These
different sessions can correspond to different games or to the same
game. A game must uniquely identify itself on the network.
Fortunately, <i>Game Maker</i> does this for you. The only thing
you have to know is that when you change the game id in the options
form this identification changes. In this way you can avoid that
people with old versions of your game will play against people with
new versions.

<p>If you want to start a new multiplayer game you need to create a
new session. For this you can use the following routine:</p>

<blockquote>
<tt><b>mplay_session_create(sesname,playnumb,playername)</b></tt>
creates a new session on the current connection. sesname is a
string indicating the name of the session. playnumb is a number
that indicates the maximal number of players allowed in this game
(use 0 for an arbitrary number). playname is your name as player.
Returns whether successful.<br></blockquote>

<p>One instance of the game must create the session. The other
instance(s) of the game should join this session. This is slightly
more complicated. You first need to look at what sessions are
available and then choose the one to join. There are three
important routines for this:</p>

<blockquote><tt><b>mplay_session_find()</b></tt> searches for all
sessions that still accept players and returns the number of
sessions found.<br>
<tt><b>mplay_session_name(numb)</b></tt> returns the name of
session number numb (0 is the first session). This routine can only
be called after calling the previous routine.<br>
<tt><b>mplay_session_join(numb,playername)</b></tt> makes you join
session number numb (0 is the first session). playername is your
name as a player. Returns whether successful.<br></blockquote>

<p>There is one more routine that can change the session mode. It
should be called before creating a session:</p>

<blockquote><tt><b>mplay_session_mode(move)</b></tt> sets whether
or not to move the session host to another computer when the host
ends. move should either be true or false (the
default).<br></blockquote>

<p>To check the status of the current session you can use the
following function</p>

<blockquote><tt><b>mplay_session_status()</b></tt> returns the
status of the current session. 0 = no session, 1 = created session,
2 = joined session.<br></blockquote>

<p>A player can stop a session using the following routine:</p>

<blockquote><tt><b>mplay_session_end()</b></tt> ends the session
for this player.<br></blockquote>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
