<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Sprites</title>
<link href="style.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../files/helpindex.css" type=
"text/css">

<script type="text/JavaScript" src="../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "files/409_01_sprites.html";
</script>

</head>
<body background="images/back.gif"><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../index.html?page=files%2F409_01_sprites.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../index.html?page=files%2F409_01_sprites.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<h3>Sprites</h3>
The following routines are available for changing sprite
properties:

<blockquote><tt><b>sprite_set_offset(ind,xoff,yoff)</b></tt> Sets
the offset of the sprite with the given index.<br></blockquote>

<p>The following routines can be used to create new sprites and to
remove them.</p>

<blockquote><tt><b>sprite_duplicate(ind)</b></tt> Creates a
duplicate of the sprite with the given index. It returns the index
of the new sprite. When an error occurs -1 is returned.<br>
<tt><b>sprite_assign(ind,spr)</b></tt> Assigns the indicated sprite
to sprite ind. So this makes a copy of the sprite. In this way you
can easily set an existing sprite to a different, e.g. new
sprite.<br>
<tt><b>sprite_merge(ind1,ind2)</b></tt> Merges the images from
sprite ind2 into sprite ind1, adding them at the end. If the sizes
don't match the sprites are stretched to fit. Sprite ind2 is not
deleted!<br>
<tt><b>sprite_add(fname,imgnumb,removeback,smooth,xorig,yorig)</b></tt>
Adds the image stored in the file fname to the set of sprite
resources. Many different image file types can be dealt with. When
the image is not a gif image it can be a strip containing a number
of subimages for the sprite next to each other. Use imgnumb to
indicate their number (1 for a single image). For gif images, this
argument is not used; the number of images in the gif file is used
instead. <tt>removeback</tt> indicates whether to make all pixels
with the background color (left-bottom pixel) transparent.
<tt>smooth</tt> indicates whether to smooth the edges.
<tt>xorig</tt> and <tt>yorig</tt> indicate the position of the
origin in the sprite. The function returns the index of the new
sprite that you can then use to draw it or to assign it to the
variable sprite_index of an instance. When an error occurs -1 is
returned.<br>
<tt><b>sprite_replace(ind,fname,imgnumb,removeback,smooth,xorig,yorig)</b></tt>
Same as above but in this case the sprite with index ind is
replaced. The function returns whether it is successful.<br>
<tt><b>sprite_add_sprite(fname)</b></tt> Adds the sprite stored the
file fname to the set of sprite resources. The file must be a
.gmspr file that is saved in the sprite property form in <i>Game
Maker</i>. As this file contains all sprite settings, no further
arguments are required. The function returns the index of the new
sprite that you can then use to draw it or to assign it to the
variable sprite_index of an instance. When an error occurs -1 is
returned.<br>
<tt><b>sprite_replace_sprite(ind,fname)</b></tt> Same as above but
in this case the sprite with index ind is replaced. The function
returns whether it is successful.<br>
<tt><b>sprite_create_from_screen(x,y,w,h,removeback,smooth,xorig,yorig)</b></tt>
Creates a sprite by copying the given area from the screen.
<tt>removeback</tt> indicates whether to make all pixels with the
background color (left-bottom pixel) transparent. <tt>smooth</tt>
indicates whether to smooth the boundaries. This makes it possible
to create any sprite you want. Draw the image on the screen using
the drawing functions and next create a sprite from it. (If you
don't do this in the drawing event you can even do it in such a way
that it is not visible on the screen by not refreshing the screen.)
The other parameters are as above. The function returns the index
of the new sprite. A work of caution is required here. Even though
we speak about the screen, it is actually the drawing region that
matters. The fact that there is a window on the screen and that the
image might be scaled in this window does not matter.<br>
<tt><b>sprite_add_from_screen(ind,x,y,w,h,removeback,smooth)</b></tt>
Adds an area of the screen as a next subimage to the sprite with
index ind.<br>
<tt><b>sprite_create_from_surface(id,x,y,w,h,removeback,smooth,xorig,yorig)</b></tt>
Creates a sprite by copying the given area from the surface with
the given id. <tt>removeback</tt> indicates whether to make all
pixels with the background color (left-bottom pixel) transparent.
<tt>smooth</tt> indicates whether to smooth the boundaries. This
makes it possible to create any sprite you want. Draw the image on
the surface using the drawing functions and next create a sprite
from it. The function returns the index of the new sprite. Note
that alpha values are maintained in the sprite.<br>
<tt><b>sprite_add_from_surface(ind,id,x,y,w,h,removeback,smooth)</b></tt>
Adds an area of the surface id as a next subimage to the sprite
with index ind.<br>
<tt><b>sprite_delete(ind)</b></tt> Deletes the sprite from memory,
freeing the memory used.<br></blockquote>

<p>The following routine exists to change the appearance of a
sprite.</p>

<blockquote><tt><b>sprite_set_alpha_from_sprite(ind,spr)</b></tt>
Changes the alpha (transparancy) values in the sprite with index
<tt>ind</tt> using the intensity values in the sprite <tt>spr</tt>.
This cannot be undone.<br></blockquote>

<p>Finally, you can change the collision checking mask for the
sprite with the following routine. Please realize that this does
not work correctly when an instance with that sprite is already
present in the room.</p>

<blockquote>
<tt><b>sprite_collision_mask(ind,sepmasks,bboxmode,bbleft,bbtop,bbright,bbbottom,kind,tolerance)</b></tt>
Changes the collision mask for the sprite with index <tt>ind</tt>.
<tt>sepmasks</tt> indicates whether there must be separate
collision masks for all subimages. <tt>bboxmode</tt> is the
bounding box mode (0=automatic, 1=full image, 2=user defined).
<tt>bbleft, bbright, bbtop, bbbottom</tt> indicate the bounding box
in case of user defined bounding box. You can use 0 for all these
values in the other cases. <tt>kind</tt> is the kind of mask
(0=precise, 1=bounding box, 2=disk, 3=diamond). <tt>tolerance</tt>
indicates the tolerance in the transparency value (0=no tolerance,
255=full tolerance).<br></blockquote>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
